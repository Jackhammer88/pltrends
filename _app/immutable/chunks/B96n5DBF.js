import{k as m,q as O,A as w,E as V,H as z,B as J,C as K,D as Q,F as U,G as Y,l as B,I as M,U as W,s as X,J as j,K as k,d as D,L as x,S as F,M as ee,N as ae,n as C,O as G,P as re,g as se,e as I,Q as H,R as ne,T as ie,V as fe,i as $,W as ue,X as te,Y as le,Z as ce,_ as _e,$ as ve,a0 as be,a1 as de,a2 as Ie,a3 as Se}from"./DxSn_fqO.js";function Te(e,a,[s,r]=[0,0]){O&&s===0&&w();var f=e,n=null,u=null,d=W,P=s>0?V:0,l=!1;const A=(t,c=!0)=>{l=!0,b(c,t)},b=(t,c)=>{if(d===(d=t))return;let S=!1;if(O&&r!==-1){if(s===0){const _=f.data;_===z?r=0:_===J?r=1/0:(r=parseInt(_.substring(1)),r!==r&&(r=d?1/0:-1))}const T=r>s;!!d===T&&(f=K(),Q(f),U(!1),S=!0,r=-1)}d?(n?Y(n):c&&(n=B(()=>c(f))),u&&M(u,()=>{u=null})):(u?Y(u):c&&(u=B(()=>c(f,[s+1,r]))),n&&M(n,()=>{n=null})),S&&U(!0)};m(()=>{l=!1,a(A),l||b(null,null)},P),O&&(f=X)}function p(e,a){return e===a||(e==null?void 0:e[F])===a}function oe(e={},a,s,r){return j(()=>{var f,n;return k(()=>{f=n,n=[],D(()=>{e!==s(...n)&&(a(e,...n),f&&p(s(...f),e)&&a(null,...f))})}),()=>{x(()=>{n&&p(s(...n),e)&&a(null,...n)})}}),e}let o=!1,L=Symbol();function Ae(e,a,s){const r=s[a]??(s[a]={store:null,source:G(void 0),unsubscribe:C});if(r.store!==e&&!(L in s))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=C;else{var f=!0;r.unsubscribe=re(e,n=>{f?r.source.v=n:H(r.source,n)}),f=!1}return e&&L in s?se(e):I(r.source)}function Re(){const e={};function a(){ee(()=>{for(var s in e)e[s].unsubscribe();ae(e,L,{enumerable:!1,value:!0})})}return[e,a]}function Ee(e){var a=o;try{return o=!1,[e(),o]}finally{o=a}}function y(e){var a;return((a=e.ctx)==null?void 0:a.d)??!1}function ge(e,a,s,r){var q;var f=(s&Ie)!==0,n=!be||(s&de)!==0,u=(s&_e)!==0,d=(s&Se)!==0,P=!1,l;u?[l,P]=Ee(()=>e[a]):l=e[a];var A=F in e||ve in e,b=u&&(((q=ne(e,a))==null?void 0:q.set)??(A&&a in e&&(i=>e[a]=i)))||void 0,t=r,c=!0,S=!1,T=()=>(S=!0,c&&(c=!1,d?t=D(r):t=r),t);l===void 0&&r!==void 0&&(b&&n&&ie(),l=T(),b&&b(l));var _;if(n)_=()=>{var i=e[a];return i===void 0?T():(c=!0,S=!1,i)};else{var h=(f?$:ue)(()=>e[a]);h.f|=fe,_=()=>{var i=I(h);return i!==void 0&&(t=void 0),i===void 0?t:i}}if((s&te)===0)return _;if(b){var Z=e.$$legacy;return function(i,E){return arguments.length>0?((!n||!E||Z||P)&&b(E?_():i),i):_()}}var R=!1,g=G(l),v=$(()=>{var i=_(),E=I(g);return R?(R=!1,E):g.v=i});return u&&I(v),f||(v.equals=le),function(i,E){if(arguments.length>0){const N=E?I(v):n&&u?ce(i):i;if(!v.equals(N)){if(R=!0,H(g,N),S&&t!==void 0&&(t=N),y(v))return i;D(()=>I(v))}return i}return y(v)?v.v:I(v)}}export{Ae as a,oe as b,Te as i,ge as p,Re as s};
